{{ define "main" }}
  <article class="blog-post container">
    <h1>{{ .Title }}</h1>

    {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
    {{ $dateHuman := .Date | time.Format ":date_long" }}
    <time datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>
    
    {{ $author := .Site.GetPage (printf "authors/%s" .Params.author) }}
    {{ if $author }}
    <div class="post-author">
      <img src="{{ $author.Params.avatar | relURL }}" alt="{{ $author.Title }} avatar">
      <div class="author-info">
        <h3><a href="{{ $author.RelPermalink }}">{{ $author.Title }}</a></h3>
        <p>{{ $author.Params.job }}</p>
      </div>
    </div>
    {{ end }}

    <div class="post-content">
      {{ .Content }}
    </div>

    {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
  </article>
{{ end }}
